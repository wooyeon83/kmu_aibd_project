# 대출 상환 리스크 예측 통계분석 프로젝트

## 📋 프로젝트 개요

본 프로젝트는 Home Credit Default Risk 데이터셋을 활용하여 고객의 대출 상환 여부를 예측하는 통계적 분석을 수행합니다. 로지스틱 회귀분석을 통해 고객의 경제적 특성과 개인적 특성이 대출 상환 여부에 미치는 영향을 검정하고, 조절변수와 상호작용 효과를 고려한 통계 모델을 구축합니다.

## 🎯 프로젝트 목표

- 고객의 경제적 특성(소득, 자산 보유 여부 등)이 대출 상환 여부에 미치는 영향 검정
- 고객의 개인적 특성(나이, 성별, 학력, 직업 등)이 대출 상환 여부에 미치는 영향 검정
- 조절변수를 고려한 상호작용 효과 분석
- 통계적으로 유의미한 변수 도출 및 모델 해석

## 📊 데이터셋 정보

### 데이터 출처
- **데이터셋**: Home Credit Default Risk - application_train.csv
- **데이터 크기**: 307,511건
- **데이터 경로**: `1)대출상환/home-credit-default-risk/application_train.csv`

### 주요 변수 설명

| 변수명 | 데이터 형태 | 측정척도 | 설명 |
|--------|------------|---------|------|
| SK_ID_CURR | 범주형 | 명목척도 | 대출ID |
| TARGET | 범주형 | 명목척도 | 1: 지급 문제를 가진 고객 (대출의 첫 Y회 할부 중 적어도 한 번 이상 X일 이상 연체), 0: 그 외 모든 경우 |
| CODE_GENDER | 범주형 | 명목척도 | 고객의 성별 |
| DAYS_BIRTH | 수치형 | 비율척도 | 신청 시점에서 고객의 나이(일 기준) |
| NAME_FAMILY_STATUS | 범주형 | 명목척도 | 고객의 가족 상태 |
| CNT_FAM_MEMBERS | 수치형 | 비율척도 | 고객의 가족 구성원 수 |
| CNT_CHILDREN | 수치형 | 비율척도 | 고객의 자녀 수 |
| NAME_EDUCATION_TYPE | 범주형 | 명목척도 | 고객이 달성한 최고 교육 수준 |
| OCCUPATION_TYPE | 범주형 | 명목척도 | 고객의 직업 유형 |
| FLAG_OWN_CAR | 범주형 | 명목척도 | 고객이 자동차를 소유하고 있는지 여부 (1=예, 0=아니오) |
| FLAG_OWN_REALTY | 범주형 | 명목척도 | 고객이 집이나 아파트를 소유하고 있는지 여부 (1=예, 0=아니오) |
| AMT_CREDIT | 수치형 | 비율척도 | 대출 금액 |
| AMT_INCOME_TOTAL | 수치형 | 비율척도 | 고객의 소득 |
| NAME_INCOME_TYPE | 범주형 | 명목척도 | 고객의 소득 유형 (사업가, 근로자, 출산휴가 등) |
| FLAG_MOBIL | 범주형 | 명목척도 | 고객이 휴대전화를 제공했는지 여부 (1=예, 0=아니오) |
| FLAG_EMP_PHONE | 범주형 | 명목척도 | 고객이 업무용 전화를 제공했는지 여부 (1=예, 0=아니오) |
| REGION_RATING_CLIENT | 범주형 | 명목척도 | 고객이 거주하는 지역의 평가 등급 (1, 2, 3) |
| REG_REGION_NOT_WORK_REGION | 범주형 | 명목척도 | 고객의 영구 주소와 직장 주소가 일치하지 않는지 여부 (1=다름, 0=같음) |

## 📁 프로젝트 구조

```
2학기_통계분석/
├── Project_2Team_Stat_Analysis_v01 최종분석하기.ipynb  # 메인 분석 노트북
├── [2조]통계분석코드_v01 최종분석하기.html              # HTML 출력 파일
├── 통계분석 최종본.pdf                                  # 프로젝트 관련 문서
├── 영상.mp4                                            # 프로젝트 영상 자료
└── README.md                                           # 프로젝트 설명서
```

## 🔧 주요 분석 방법론

### 1. 기술 통계 분석
- **요약 통계량**: 수치형 변수의 평균, 표준편차, 최솟값, 최댓값 등
- **범주형 변수 분석**: 빈도수, 비율 분석
- **상관계수 분석**: 범주형 변수 및 수치형 변수 간 상관관계 확인

### 2. 데이터 전처리
- **결측치 처리**: 
  - `OCCUPATION_TYPE`: 결측치를 'UNKNOWN' 범주로 처리
  - `CNT_FAM_MEMBERS`: 결측치 제거 또는 대체
- **이상치 처리**:
  - IQR(Interquartile Range) 기반 이상치 제거
  - 가족 구성원 수, 자녀 수, 총 소득 등 이상치 처리
- **파생변수 생성**:
  - `AGE`: DAYS_BIRTH를 연령으로 변환
  - `CREDIT_INCOME_RATIO`: 대출금액 대비 소득 비율
  - `EDUCATION_LEVEL`: 교육 수준을 수치형으로 변환
  - `OCCUPATION_GROUP`: 직업 유형을 그룹화
  - `IS_MARRIED`: 결혼 상태를 이진 변수로 변환
- **변수 제거**: 
  - 낮은 상관관계 및 엔트로피를 가진 변수 제거 (예: FLAG_EMAIL)

### 3. 다중공선성 검정
- **VIF (Variance Inflation Factor)**: 독립변수 간 다중공선성 검정
- 다중공선성이 높은 변수 제거

### 4. 가설 검정

#### 가설 1: 고객의 경제적 특성이 대출 상환 여부에 영향을 미치는가?
- **독립변수**: 
  - 총 소득 (AMT_INCOME_TOTAL)
  - 부동산 소유 여부 (FLAG_OWN_REALTY)
  - 자동차 소유 여부 (FLAG_OWN_CAR)
  - 대출금액 대비 소득 비율 (CREDIT_INCOME_RATIO)
- **조절변수**: 주소와 직장 주소 일치 여부 (REG_REGION_NOT_WORK_REGION)
- **상호작용항**: 조절변수와 주요 독립변수 간 상호작용 효과

#### 가설 2: 고객의 개인적 특성이 대출 상환 여부에 영향을 미치는가?
- **독립변수**:
  - 나이 (AGE)
  - 성별 (CODE_GENDER)
  - 결혼 여부 (IS_MARRIED)
  - 자녀 수 (CNT_CHILDREN)
  - 교육 수준 (EDUCATION_LEVEL)
  - 직업 그룹 (OCCUPATION_GROUP)
- **조절변수**: 주소와 직장 주소 일치 여부 (REG_REGION_NOT_WORK_REGION)
- **상호작용항**: 조절변수와 주요 독립변수 간 상호작용 효과

### 5. 로지스틱 회귀분석
- **모델**: statsmodels의 Logit 모델 사용
- **모델 평가 지표**:
  - Pseudo R-squared: 모델의 설명력
  - Log-Likelihood: 모델 적합도
  - LLR p-value: 모델의 통계적 유의성
  - 회귀계수 (Coefficient): 변수의 영향력 크기와 방향
  - p-value: 변수의 통계적 유의성

### 6. 모델 해석
- 유의미한 변수 (p-value < 0.05) 식별
- 회귀계수를 통한 변수 영향력 해석
- 상호작용 효과 분석
- 예측 성능 평가

## 🚀 실행 방법

### 환경 설정

1. 필요한 패키지 설치:
```bash
pip install pandas numpy matplotlib seaborn scipy statsmodels
```

2. Jupyter Notebook 실행:
```bash
jupyter notebook
```

3. `Project_2Team_Stat_Analysis_v01 최종분석하기.ipynb` 파일 열기

### 데이터 준비

- 데이터 파일 경로: `1)대출상환/home-credit-default-risk/application_train.csv`
- 노트북의 데이터 경로를 실제 데이터 위치에 맞게 수정 필요

### 실행 순서

1. **공통 설정**: 패키지 로드 및 시각화 설정
2. **데이터 준비**: 데이터 로드 및 변수 추출
3. **데이터 구조 확인**: 결측치, 데이터 타입, 요약 통계량 확인
4. **기술 통계 분석**: 상관계수 분석, 데이터 탐색
5. **데이터 전처리**: 결측치 처리, 이상치 제거, 파생변수 생성
6. **다중공선성 검정**: VIF를 통한 다중공선성 확인
7. **가설 검정**: 
   - 가설 1: 경제적 특성 분석
   - 가설 2: 개인적 특성 분석
8. **모델 해석**: 통계적으로 유의미한 변수 도출 및 해석

## 📈 주요 분석 결과

### 데이터 특성
- **클래스 불균형**: 대출 상환 불이행 비율 약 8.07% (불균형 데이터)
- **결측치**: OCCUPATION_TYPE 변수에 약 31%의 결측치 존재
- **이상치**: 가족 구성원 수, 자녀 수, 총 소득 등에 이상치 존재

### 주요 발견사항
- 총 소득이 낮을수록 대출 상환 가능성이 낮아짐
- 부동산 및 자동차 소유 여부가 대출 상환에 영향을 미침
- 성별, 직업 유형, 교육 수준 등 개인적 특성이 대출 상환에 유의미한 영향
- 조절변수(주소와 직장 주소 일치 여부)가 일부 변수와 상호작용 효과를 가짐

## 📝 주요 용어 설명

- **통제변수**: 주요 독립변수와 종속변수 간의 관계를 명확히 하기 위해 일정하게 유지하거나 통제하는 변수
- **조절변수**: 독립변수와 종속변수 간의 관계를 조절하거나 변화시키는 변수
- **상호작용항**: 두 개 이상의 독립변수 간의 상호작용 효과를 포함시키기 위해 사용
- **회귀계수 (Coefficient)**: 독립변수가 종속변수에 미치는 영향의 크기와 방향
- **p-value (유의확률)**: 해당 독립변수가 종속변수에 미치는 영향이 통계적으로 유의미한지를 평가
- **Pseudo R-squared**: 로지스틱 회귀 모델에서 모형의 적합도를 평가하는 지표
- **Log-Likelihood**: 모델이 데이터를 얼마나 잘 설명하는지를 나타내는 지표
- **LLR p-value**: 더 복잡한 모델이 단순한 모델보다 데이터를 더 잘 설명하는지를 평가

## 🔍 분석 워크플로우

```
데이터 로드 → 데이터 탐색 → 전처리 → 다중공선성 검정 → 가설 검정 → 모델 해석 → 결과 도출
```

## 📚 참고 자료

- 프로젝트 관련 문서: `통계분석 최종본.pdf`
- 프로젝트 영상: `영상.mp4`
- HTML 출력 파일: `[2조]통계분석코드_v01 최종분석하기.html`a

---

**Note**: 본 프로젝트는 국민대학교 대학원 통계분석 과제로 수행되었습니다.


